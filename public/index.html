<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Elegant Task Manager</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/web-socket-js/1.0.0/web_socket.js"
      integrity="sha512-P61hA8M2fuA0NxiHXTb+Ul1znVk0ybLXejE3xWtXJsl6SVG09qnFrw3XgZTBpoysP88jUw9UEVzDwYaRjPkwCw=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
  </head>
  <body class="flex min-h-screen bg-slate-100 text-gray-800">
    <!-- Sidebar -->
    <aside
      class="w-72 bg-white border-r shadow-md p-6 flex flex-col gap-8 rounded-lg m-2"
    >
      <div>
        <h1 class="text-3xl font-bold text-violet-600">🧩 TaskShaala</h1>
        <p class="text-sm text-gray-500 mt-3">
          Yahan har task milta hai full attention.
        </p>
      </div>

      <button
        onclick="openTaskModal()"
        class="shadow-lg hover:scale-95 bg-gradient-to-r from-violet-500 to-indigo-500 text-white px-4 py-2 rounded-lg font-medium shadow hover:shadow-lg transition"
      >
        ➕ Add Task
      </button>

      <nav class="text-sm">
        <div class="max-w-xs w-full">
          <label
            for="task-filter"
            class="block text-sm font-semibold text-gray-700 mb-2"
          >
            🎯 Filter Tasks
          </label>
          <select
            id="task-filter"
            class="w-full bg-white border border-gray-200 text-gray-800 text-sm rounded-md px-5 py-2 shadow-sm focus:outline-none focus:ring-2 focus:ring-violet-400 focus:border-violet-400 transition"
          >
            <option value="all">All Tasks</option>
            <option value="todo">📝 Todo</option>
            <option value="inprogress">🚧 In Progress</option>
            <option value="done">✅ Done</option>
            <option value="high">🔴 High Priority</option>
            <option value="medium">🟡 Medium Priority</option>
            <option value="low">🟢 Low Priority</option>
          </select>
        </div>

        <h2 class="text-xs font-semibold text-gray-500 mt-6 mb-2 uppercase">
          Projects
        </h2>
        <ul id="projects" class="space-y-1 text-gray-700"></ul>
        <button
          id="new-project-btn"
          class="hover:scale-95 text-sm text-violet-500 hover:text-violet-600 mt-4 flex items-center gap-2"
        >
          ➕ New Project
        </button>
      </nav>
    </aside>

    <!-- Main Section -->
    <main class="flex-1 p-4 overflow-auto">
      <!-- Top Tabs -->
      <div class="flex rounded-xl gap-6 border-b bg-white px-6 py-3 shadow-md">
        <button class="tab-button tab-active" data-tab="board">📋 Board</button>
        <button class="tab-button" data-tab="calendar">📆 Calendar</button>
        <button class="tab-button" data-tab="reports">📊 Reports</button>
      </div>

      <section id="board">
        <h2 class="text-xl font-semibold mt-4 mb-4 text-gray-700">
          🗂️ Board Overview
        </h2>
        <div class="task-column grid grid-cols-1 md:grid-cols-3 gap-6">
          <!-- Todo -->
          <div class="bg-white rounded-xl p-4 border shadow-sm">
            <h3 class="text-lg font-bold text-violet-600 border-b pb-2 mb-3">
              📝 Todo
            </h3>
            <div
              id="todo-column"
              data-status="todo"
              class="space-y-4 min-h-[150px]"
            ></div>
          </div>

          <!-- In Progress -->
          <div class="bg-white rounded-xl p-4 border shadow-sm">
            <h3 class="text-lg font-bold text-yellow-500 border-b pb-2 mb-3">
              🚧 In Progress
            </h3>
            <div
              id="inprogress-column"
              data-status="inprogress"
              class="space-y-4 min-h-[150px]"
            ></div>
          </div>

          <!-- Done -->
          <div class="bg-white rounded-xl p-4 border shadow-sm">
            <h3 class="text-lg font-bold text-emerald-600 border-b pb-2 mb-3">
              ✅ Done
            </h3>
            <div
              id="done-column"
              data-status="done"
              class="space-y-4 min-h-[150px]"
            ></div>
          </div>
        </div>
      </section>
      <!-- Calendar View -->
      <section id="calendar" class="hidden"></section>

      <!-- Reports View -->
      <section id="reports" class="hidden">
        <h2 class="text-xl font-semibold mt-4 mb-4">📊 Reports & Analytics</h2>
        <div class="grid md:grid-cols-2 gap-6">
          <!-- Task Status Chart -->
          <div class="bg-white rounded-xl shadow p-4">
            <h3 class="text-md font-medium mb-2">Task Status Overview</h3>
            <canvas id="statusChart" width="400" height="200"></canvas>
          </div>

          <!-- Tasks Per Assignee -->
          <div class="bg-white rounded-xl shadow p-4">
            <h3 class="text-md font-medium mb-2">Tasks per Assignee</h3>
            <canvas id="assigneeChart" width="400" height="200"></canvas>
          </div>
        </div>
      </section>
    </main>

    <!-- Task Modal -->
    <div
      id="taskModal"
      class="fixed inset-0 bg-black bg-opacity-40 backdrop-blur-sm flex items-center justify-center z-50 hidden"
    >
      <div class="bg-white p-6 rounded-xl w-full max-w-md shadow-lg">
        <h2 class="text-xl font-bold mb-4 text-violet-600">
          🆕 Create New Task
        </h2>
        <form id="taskForm" class="space-y-4">
          <input
            type="text"
            id="title"
            placeholder="Title"
            required
            class="w-full p-2 border rounded-md"
          />
          <textarea
            id="description"
            placeholder="Description"
            required
            class="w-full p-2 border rounded-md"
          ></textarea>
          <input
            type="date"
            id="dueDate"
            required
            class="w-full p-2 border rounded-md"
          />
          <input
            type="text"
            id="assignee"
            placeholder="Assignee"
            required
            class="w-full p-2 border rounded-md"
          />
          <select id="status" required class="w-full p-2 border rounded-md">
            <option value="todo">Todo</option>
            <option value="inprogress">In Progress</option>
            <option value="done">Done</option>
          </select>
          <select
            default="low"
            id="priority"
            required
            class="w-full p-2 border rounded-md"
          >
            <option value="high">High</option>
            <option value="medium">Medium</option>
            <option value="low">Low</option>
          </select>
          <div class="flex justify-end gap-2 pt-2">
            <button
              type="button"
              onclick="closeTaskModal()"
              class="px-4 py-2 bg-gray-200 rounded-md hover:bg-gray-300 hover:scale-95 transition"
            >
              Cancel
            </button>
            <button
              type="submit"
              class="px-4 py-2 bg-violet-600 text-white hover:scale-95 rounded-md"
            >
              Create
            </button>
          </div>
        </form>
      </div>
    </div>

    <script src="script.js"></script>
    <script src="listen.js"></script>
  </body>
</html>
